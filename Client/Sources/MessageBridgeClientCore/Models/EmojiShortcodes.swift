import Foundation

/// Static emoji shortcode dictionary with search and lookup functionality.
/// Used by the composer autocomplete system to resolve `:shortcode:` patterns.
public enum EmojiShortcodes {

  public struct Match: Equatable, Sendable {
    public let shortcode: String
    public let emoji: String

    public init(shortcode: String, emoji: String) {
      self.shortcode = shortcode
      self.emoji = emoji
    }
  }

  /// Look up an exact shortcode (without colons). Case-insensitive.
  public static func lookup(_ shortcode: String) -> String? {
    shortcodes[shortcode.lowercased()]
  }

  /// Search for shortcodes matching a prefix. Requires at least 2 characters.
  /// Results are sorted with exact matches first, then alphabetically.
  public static func search(_ prefix: String, maxResults: Int = 8) -> [Match] {
    let query = prefix.lowercased()
    guard query.count >= 2 else { return [] }

    var exact: [Match] = []
    var prefixMatches: [Match] = []

    for (shortcode, emoji) in shortcodes {
      if shortcode == query {
        exact.append(Match(shortcode: shortcode, emoji: emoji))
      } else if shortcode.hasPrefix(query) {
        prefixMatches.append(Match(shortcode: shortcode, emoji: emoji))
      }
    }

    prefixMatches.sort { $0.shortcode < $1.shortcode }
    let combined = exact + prefixMatches
    return Array(combined.prefix(maxResults))
  }

  // MARK: - Shortcode Dictionary

  static let shortcodes: [String: String] = [
    // Smileys & Faces
    "smile": "ðŸ˜„",
    "grin": "ðŸ˜",
    "grinning": "ðŸ˜€",
    "joy": "ðŸ˜‚",
    "rofl": "ðŸ¤£",
    "smiley": "ðŸ˜ƒ",
    "sweat_smile": "ðŸ˜…",
    "laughing": "ðŸ˜†",
    "wink": "ðŸ˜‰",
    "blush": "ðŸ˜Š",
    "innocent": "ðŸ˜‡",
    "slightly_smiling_face": "ðŸ™‚",
    "upside_down_face": "ðŸ™ƒ",
    "relaxed": "â˜ºï¸",
    "yum": "ðŸ˜‹",
    "relieved": "ðŸ˜Œ",
    "heart_eyes": "ðŸ˜",
    "kissing_heart": "ðŸ˜˜",
    "kissing": "ðŸ˜—",
    "kissing_smiling_eyes": "ðŸ˜™",
    "kissing_closed_eyes": "ðŸ˜š",
    "stuck_out_tongue_winking_eye": "ðŸ˜œ",
    "stuck_out_tongue_closed_eyes": "ðŸ˜",
    "stuck_out_tongue": "ðŸ˜›",
    "zany_face": "ðŸ¤ª",
    "money_mouth_face": "ðŸ¤‘",
    "hugs": "ðŸ¤—",
    "nerd_face": "ðŸ¤“",
    "sunglasses": "ðŸ˜Ž",
    "star_struck": "ðŸ¤©",
    "partying_face": "ðŸ¥³",
    "smirk": "ðŸ˜",
    "unamused": "ðŸ˜’",
    "disappointed": "ðŸ˜ž",
    "pensive": "ðŸ˜”",
    "worried": "ðŸ˜Ÿ",
    "confused": "ðŸ˜•",
    "slightly_frowning_face": "ðŸ™",
    "frowning_face": "â˜¹ï¸",
    "persevere": "ðŸ˜£",
    "confounded": "ðŸ˜–",
    "tired_face": "ðŸ˜«",
    "weary": "ðŸ˜©",
    "pleading_face": "ðŸ¥º",
    "cry": "ðŸ˜¢",
    "sob": "ðŸ˜­",
    "triumph": "ðŸ˜¤",
    "angry": "ðŸ˜ ",
    "rage": "ðŸ˜¡",
    "face_with_symbols": "ðŸ¤¬",
    "exploding_head": "ðŸ¤¯",
    "flushed": "ðŸ˜³",
    "hot_face": "ðŸ¥µ",
    "cold_face": "ðŸ¥¶",
    "scream": "ðŸ˜±",
    "fearful": "ðŸ˜¨",
    "cold_sweat": "ðŸ˜°",
    "disappointed_relieved": "ðŸ˜¥",
    "sweat": "ðŸ˜“",
    "thinking": "ðŸ¤”",
    "shushing_face": "ðŸ¤«",
    "lying_face": "ðŸ¤¥",
    "no_mouth": "ðŸ˜¶",
    "neutral_face": "ðŸ˜",
    "expressionless": "ðŸ˜‘",
    "grimacing": "ðŸ˜¬",
    "rolling_eyes": "ðŸ™„",
    "hushed": "ðŸ˜¯",
    "astonished": "ðŸ˜²",
    "open_mouth": "ðŸ˜®",
    "sleeping": "ðŸ˜´",
    "drooling_face": "ðŸ¤¤",
    "sleepy": "ðŸ˜ª",
    "dizzy_face": "ðŸ˜µ",
    "zipper_mouth_face": "ðŸ¤",
    "nauseated_face": "ðŸ¤¢",
    "sneezing_face": "ðŸ¤§",
    "mask": "ðŸ˜·",
    "face_with_thermometer": "ðŸ¤’",
    "face_with_head_bandage": "ðŸ¤•",
    "woozy_face": "ðŸ¥´",
    "cowboy_hat_face": "ðŸ¤ ",
    "clown_face": "ðŸ¤¡",
    "ghost": "ðŸ‘»",
    "skull": "ðŸ’€",
    "alien": "ðŸ‘½",
    "robot": "ðŸ¤–",
    "poop": "ðŸ’©",
    "jack_o_lantern": "ðŸŽƒ",

    // Gestures & Hands
    "wave": "ðŸ‘‹",
    "raised_back_of_hand": "ðŸ¤š",
    "raised_hand": "âœ‹",
    "vulcan_salute": "ðŸ––",
    "ok_hand": "ðŸ‘Œ",
    "pinching_hand": "ðŸ¤",
    "v": "âœŒï¸",
    "crossed_fingers": "ðŸ¤ž",
    "love_you_gesture": "ðŸ¤Ÿ",
    "metal": "ðŸ¤˜",
    "call_me_hand": "ðŸ¤™",
    "point_left": "ðŸ‘ˆ",
    "point_right": "ðŸ‘‰",
    "point_up_2": "ðŸ‘†",
    "point_down": "ðŸ‘‡",
    "point_up": "â˜ï¸",
    "thumbsup": "ðŸ‘",
    "+1": "ðŸ‘",
    "thumbsdown": "ðŸ‘Ž",
    "-1": "ðŸ‘Ž",
    "fist": "âœŠ",
    "punch": "ðŸ‘Š",
    "left_facing_fist": "ðŸ¤›",
    "right_facing_fist": "ðŸ¤œ",
    "clap": "ðŸ‘",
    "raised_hands": "ðŸ™Œ",
    "open_hands": "ðŸ‘",
    "palms_up": "ðŸ¤²",
    "handshake": "ðŸ¤",
    "pray": "ðŸ™",
    "writing_hand": "âœï¸",
    "nail_care": "ðŸ’…",
    "muscle": "ðŸ’ª",
    "mechanical_arm": "ðŸ¦¾",
    "brain": "ðŸ§ ",
    "salute": "ðŸ«¡",

    // People & Gestures
    "shrug": "ðŸ¤·",
    "facepalm": "ðŸ¤¦",
    "bow": "ðŸ™‡",
    "see_no_evil": "ðŸ™ˆ",
    "hear_no_evil": "ðŸ™‰",
    "speak_no_evil": "ðŸ™Š",

    // Hearts & Emotion
    "heart": "â¤ï¸",
    "red_heart": "â¤ï¸",
    "orange_heart": "ðŸ§¡",
    "yellow_heart": "ðŸ’›",
    "green_heart": "ðŸ’š",
    "blue_heart": "ðŸ’™",
    "purple_heart": "ðŸ’œ",
    "black_heart": "ðŸ–¤",
    "white_heart": "ðŸ¤",
    "brown_heart": "ðŸ¤Ž",
    "pink_heart": "ðŸ©·",
    "broken_heart": "ðŸ’”",
    "two_hearts": "ðŸ’•",
    "revolving_hearts": "ðŸ’ž",
    "heartbeat": "ðŸ’“",
    "heartpulse": "ðŸ’—",
    "sparkling_heart": "ðŸ’–",
    "cupid": "ðŸ’˜",
    "gift_heart": "ðŸ’",
    "heart_decoration": "ðŸ’Ÿ",
    "heavy_heart_exclamation": "â£ï¸",
    "love_letter": "ðŸ’Œ",
    "kiss": "ðŸ’‹",
    "100": "ðŸ’¯",
    "anger": "ðŸ’¢",
    "boom": "ðŸ’¥",
    "dizzy": "ðŸ’«",
    "sweat_drops": "ðŸ’¦",
    "speech_balloon": "ðŸ’¬",
    "thought_balloon": "ðŸ’­",
    "zzz": "ðŸ’¤",
    "fire": "ðŸ”¥",
    "sparkles": "âœ¨",
    "star": "â­",
    "star2": "ðŸŒŸ",
    "zap": "âš¡",
    "sunny": "â˜€ï¸",
    "rainbow": "ðŸŒˆ",

    // Objects & Symbols
    "eyes": "ðŸ‘€",
    "eye": "ðŸ‘ï¸",
    "tongue": "ðŸ‘…",
    "lips": "ðŸ‘„",
    "mega": "ðŸ“£",
    "loudspeaker": "ðŸ“¢",
    "bell": "ðŸ””",
    "no_bell": "ðŸ”•",
    "musical_note": "ðŸŽµ",
    "notes": "ðŸŽ¶",
    "microphone": "ðŸŽ¤",
    "headphones": "ðŸŽ§",
    "guitar": "ðŸŽ¸",
    "trophy": "ðŸ†",
    "medal": "ðŸ…",
    "first_place_medal": "ðŸ¥‡",
    "second_place_medal": "ðŸ¥ˆ",
    "third_place_medal": "ðŸ¥‰",
    "soccer": "âš½",
    "basketball": "ðŸ€",
    "football": "ðŸˆ",
    "baseball": "âš¾",
    "tennis": "ðŸŽ¾",
    "tada": "ðŸŽ‰",
    "confetti_ball": "ðŸŽŠ",
    "balloon": "ðŸŽˆ",
    "gift": "ðŸŽ",
    "ribbon": "ðŸŽ€",
    "party_popper": "ðŸŽ‰",
    "crystal_ball": "ðŸ”®",
    "gem": "ðŸ’Ž",
    "crown": "ðŸ‘‘",
    "ring": "ðŸ’",
    "moneybag": "ðŸ’°",
    "money_with_wings": "ðŸ’¸",
    "dollar": "ðŸ’µ",
    "credit_card": "ðŸ’³",
    "chart": "ðŸ“ˆ",
    "chart_with_downwards_trend": "ðŸ“‰",
    "bulb": "ðŸ’¡",
    "flashlight": "ðŸ”¦",
    "wrench": "ðŸ”§",
    "hammer": "ðŸ”¨",
    "nut_and_bolt": "ðŸ”©",
    "gear": "âš™ï¸",
    "link": "ðŸ”—",
    "paperclip": "ðŸ“Ž",
    "scissors": "âœ‚ï¸",
    "lock": "ðŸ”’",
    "unlock": "ðŸ”“",
    "key": "ðŸ”‘",
    "mag": "ðŸ”",
    "mag_right": "ðŸ”Ž",

    // Tech & Computing
    "computer": "ðŸ’»",
    "desktop_computer": "ðŸ–¥ï¸",
    "keyboard": "âŒ¨ï¸",
    "phone": "ðŸ“±",
    "telephone": "â˜Žï¸",
    "email": "ðŸ“§",
    "envelope": "âœ‰ï¸",
    "inbox_tray": "ðŸ“¥",
    "outbox_tray": "ðŸ“¤",
    "package": "ðŸ“¦",
    "memo": "ðŸ“",
    "page_facing_up": "ðŸ“„",
    "page_with_curl": "ðŸ“ƒ",
    "bookmark": "ðŸ”–",
    "books": "ðŸ“š",
    "book": "ðŸ“–",
    "clipboard": "ðŸ“‹",
    "pushpin": "ðŸ“Œ",
    "round_pushpin": "ðŸ“",
    "calendar": "ðŸ“…",
    "file_folder": "ðŸ“",
    "open_file_folder": "ðŸ“‚",
    "wastebasket": "ðŸ—‘ï¸",
    "bug": "ðŸ›",
    "robot_face": "ðŸ¤–",

    // Travel & Transport
    "rocket": "ðŸš€",
    "airplane": "âœˆï¸",
    "helicopter": "ðŸš",
    "car": "ðŸš—",
    "taxi": "ðŸš•",
    "bus": "ðŸšŒ",
    "train": "ðŸš†",
    "ship": "ðŸš¢",
    "anchor": "âš“",
    "earth_americas": "ðŸŒŽ",
    "earth_africa": "ðŸŒ",
    "earth_asia": "ðŸŒ",
    "globe_with_meridians": "ðŸŒ",
    "world_map": "ðŸ—ºï¸",
    "house": "ðŸ ",
    "office": "ðŸ¢",

    // Food & Drink
    "coffee": "â˜•",
    "tea": "ðŸµ",
    "beer": "ðŸº",
    "beers": "ðŸ»",
    "wine_glass": "ðŸ·",
    "cocktail": "ðŸ¸",
    "tropical_drink": "ðŸ¹",
    "champagne": "ðŸ¾",
    "pizza": "ðŸ•",
    "hamburger": "ðŸ”",
    "fries": "ðŸŸ",
    "hotdog": "ðŸŒ­",
    "taco": "ðŸŒ®",
    "burrito": "ðŸŒ¯",
    "popcorn": "ðŸ¿",
    "ice_cream": "ðŸ¨",
    "doughnut": "ðŸ©",
    "cookie": "ðŸª",
    "cake": "ðŸŽ‚",
    "pie": "ðŸ¥§",
    "chocolate_bar": "ðŸ«",
    "candy": "ðŸ¬",
    "apple": "ðŸŽ",
    "green_apple": "ðŸ",
    "banana": "ðŸŒ",
    "grapes": "ðŸ‡",
    "watermelon": "ðŸ‰",
    "strawberry": "ðŸ“",
    "peach": "ðŸ‘",
    "mango": "ðŸ¥­",
    "avocado": "ðŸ¥‘",
    "eggplant": "ðŸ†",
    "corn": "ðŸŒ½",
    "hot_pepper": "ðŸŒ¶ï¸",
    "broccoli": "ðŸ¥¦",
    "egg": "ðŸ¥š",
    "cheese": "ðŸ§€",

    // Animals
    "dog": "ðŸ¶",
    "cat": "ðŸ±",
    "mouse": "ðŸ­",
    "hamster": "ðŸ¹",
    "rabbit": "ðŸ°",
    "fox": "ðŸ¦Š",
    "bear": "ðŸ»",
    "panda": "ðŸ¼",
    "koala": "ðŸ¨",
    "tiger": "ðŸ¯",
    "lion": "ðŸ¦",
    "cow": "ðŸ®",
    "pig": "ðŸ·",
    "frog": "ðŸ¸",
    "monkey_face": "ðŸµ",
    "chicken": "ðŸ”",
    "penguin": "ðŸ§",
    "bird": "ðŸ¦",
    "eagle": "ðŸ¦…",
    "duck": "ðŸ¦†",
    "owl": "ðŸ¦‰",
    "bat": "ðŸ¦‡",
    "wolf": "ðŸº",
    "horse": "ðŸ´",
    "unicorn": "ðŸ¦„",
    "bee": "ðŸ",
    "butterfly": "ðŸ¦‹",
    "snail": "ðŸŒ",
    "ladybug": "ðŸž",
    "spider": "ðŸ•·ï¸",
    "turtle": "ðŸ¢",
    "snake": "ðŸ",
    "lizard": "ðŸ¦Ž",
    "octopus": "ðŸ™",
    "whale": "ðŸ³",
    "dolphin": "ðŸ¬",
    "fish": "ðŸŸ",
    "tropical_fish": "ðŸ ",
    "shark": "ðŸ¦ˆ",
    "crab": "ðŸ¦€",
    "shrimp": "ðŸ¦",
    "squid": "ðŸ¦‘",
    "dragon": "ðŸ‰",
    "dragon_face": "ðŸ²",
    "t_rex": "ðŸ¦–",
    "dinosaur": "ðŸ¦•",

    // Nature & Weather
    "seedling": "ðŸŒ±",
    "evergreen_tree": "ðŸŒ²",
    "deciduous_tree": "ðŸŒ³",
    "palm_tree": "ðŸŒ´",
    "cactus": "ðŸŒµ",
    "herb": "ðŸŒ¿",
    "shamrock": "â˜˜ï¸",
    "four_leaf_clover": "ðŸ€",
    "maple_leaf": "ðŸ",
    "fallen_leaf": "ðŸ‚",
    "leaves": "ðŸƒ",
    "mushroom": "ðŸ„",
    "rose": "ðŸŒ¹",
    "tulip": "ðŸŒ·",
    "sunflower": "ðŸŒ»",
    "blossom": "ðŸŒ¼",
    "cherry_blossom": "ðŸŒ¸",
    "bouquet": "ðŸ’",
    "cloud": "â˜ï¸",
    "rain": "ðŸŒ§ï¸",
    "thunder_cloud_and_rain": "â›ˆï¸",
    "snowflake": "â„ï¸",
    "snowman": "â›„",
    "wind_blowing_face": "ðŸŒ¬ï¸",
    "tornado": "ðŸŒªï¸",
    "fog": "ðŸŒ«ï¸",
    "ocean": "ðŸŒŠ",
    "droplet": "ðŸ’§",
    "umbrella": "â˜‚ï¸",
    "volcano": "ðŸŒ‹",
    "moon": "ðŸŒ™",
    "full_moon": "ðŸŒ•",
    "crescent_moon": "ðŸŒ™",
    "new_moon_with_face": "ðŸŒš",
    "full_moon_with_face": "ðŸŒ",
    "comet": "â˜„ï¸",

    // Checkmarks & Symbols
    "white_check_mark": "âœ…",
    "heavy_check_mark": "âœ”ï¸",
    "ballot_box_with_check": "â˜‘ï¸",
    "x": "âŒ",
    "negative_squared_cross_mark": "âŽ",
    "exclamation": "â—",
    "question_mark": "â“",
    "grey_exclamation": "â•",
    "grey_question": "â”",
    "bangbang": "â€¼ï¸",
    "interrobang": "â‰ï¸",
    "warning": "âš ï¸",
    "no_entry": "â›”",
    "no_entry_sign": "ðŸš«",
    "stop_sign": "ðŸ›‘",
    "recycle": "â™»ï¸",
    "infinity": "â™¾ï¸",
    "arrow_right": "âž¡ï¸",
    "arrow_left": "â¬…ï¸",
    "arrow_up": "â¬†ï¸",
    "arrow_down": "â¬‡ï¸",
    "arrow_right_hook": "â†ªï¸",
    "leftwards_arrow_with_hook": "â†©ï¸",
    "arrows_counterclockwise": "ðŸ”„",
    "plus": "âž•",
    "minus": "âž–",
    "heavy_multiplication_x": "âœ–ï¸",
    "heavy_division_sign": "âž—",

    // Flags (common)
    "flag_us": "ðŸ‡ºðŸ‡¸",
    "flag_gb": "ðŸ‡¬ðŸ‡§",
    "flag_ca": "ðŸ‡¨ðŸ‡¦",
    "flag_fr": "ðŸ‡«ðŸ‡·",
    "flag_de": "ðŸ‡©ðŸ‡ª",
    "flag_jp": "ðŸ‡¯ðŸ‡µ",
    "flag_kr": "ðŸ‡°ðŸ‡·",
    "flag_cn": "ðŸ‡¨ðŸ‡³",
    "flag_au": "ðŸ‡¦ðŸ‡º",
    "flag_br": "ðŸ‡§ðŸ‡·",
    "flag_mx": "ðŸ‡²ðŸ‡½",
    "flag_in": "ðŸ‡®ðŸ‡³",
    "flag_it": "ðŸ‡®ðŸ‡¹",
    "flag_es": "ðŸ‡ªðŸ‡¸",
    "checkered_flag": "ðŸ",
    "triangular_flag_on_post": "ðŸš©",
    "white_flag": "ðŸ³ï¸",
    "rainbow_flag": "ðŸ³ï¸â€ðŸŒˆ",
    "pirate_flag": "ðŸ´â€â˜ ï¸",

    // Miscellaneous popular
    "laughing_face": "ðŸ˜†",
    "upside_down": "ðŸ™ƒ",
    "melting_face": "ðŸ« ",
    "monocle_face": "ðŸ§",
    "face_with_monocle": "ðŸ§",
    "mind_blown": "ðŸ¤¯",
    "raised_eyebrow": "ðŸ¤¨",
    "saluting_face": "ðŸ«¡",
    "thumbs_up": "ðŸ‘",
    "thumbs_down": "ðŸ‘Ž",
    "ok": "ðŸ‘Œ",
    "peace": "âœŒï¸",
    "crossed_fingers_hand": "ðŸ¤ž",
    "pinched_fingers": "ðŸ¤Œ",
    "chef_kiss": "ðŸ¤Œ",
    "paw_prints": "ðŸ¾",
    "footprints": "ðŸ‘£",
    "moyai": "ðŸ—¿",
    "skull_and_crossbones": "â˜ ï¸",
    "detective": "ðŸ•µï¸",
    "ninja": "ðŸ¥·",
    "astronaut": "ðŸ§‘â€ðŸš€",
    "construction_worker": "ðŸ‘·",
    "artist": "ðŸ§‘â€ðŸŽ¨",
    "scientist": "ðŸ§‘â€ðŸ”¬",
    "technologist": "ðŸ§‘â€ðŸ’»",
    "singer": "ðŸ§‘â€ðŸŽ¤",
    "teacher": "ðŸ§‘â€ðŸ«",
    "cook": "ðŸ§‘â€ðŸ³",
    "farmer": "ðŸ§‘â€ðŸŒ¾",
    "pilot": "ðŸ§‘â€âœˆï¸",
    "firefighter": "ðŸ§‘â€ðŸš’",
    "hourglass": "â³",
    "alarm_clock": "â°",
    "stopwatch": "â±ï¸",
    "timer_clock": "â²ï¸",
    "camera": "ðŸ“·",
    "video_camera": "ðŸ“¹",
    "movie_camera": "ðŸŽ¥",
    "tv": "ðŸ“º",
    "radio": "ðŸ“»",
    "satellite": "ðŸ“¡",
    "battery": "ðŸ”‹",
    "electric_plug": "ðŸ”Œ",
    "magnet": "ðŸ§²",
    "test_tube": "ðŸ§ª",
    "petri_dish": "ðŸ§«",
    "dna": "ðŸ§¬",
    "microscope": "ðŸ”¬",
    "telescope": "ðŸ”­",
    "joystick": "ðŸ•¹ï¸",
    "shield": "ðŸ›¡ï¸",
    "crossed_swords": "âš”ï¸",
    "bow_and_arrow": "ðŸ¹",
  ]
}
